(this.webpackJsonpfinancial_news_frontend=this.webpackJsonpfinancial_news_frontend||[]).push([[0],{171:function(e,t,n){},174:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),c=n.n(o),s=(n(75),n(20)),i=n.n(s),l=n(32),u=n(33),d=n(16),m=n(65),p=(n(171),n(36)),f="https://us-central1-df-side-projects.cloudfunctions.net/news-rss-http";function b(e){return e.reduce((function(e,t){var n=new Date(t.date).toDateString(),a=e.get(n)||[];return e.set(n,[].concat(Object(p.a)(a),[t])),e}),new Map)}function h(e){var t=e.reduce((function(e,t){return e.score+=t.sentimentResult.score,e.magnitude+=t.sentimentResult.magnitude,e}),{score:0,magnitude:0});return{data:e,sentiment:{score:t.score/e.length,magnitude:t.magnitude/e.length}}}function v(){return g.apply(this,arguments)}function g(){return(g=Object(u.a)(i.a.mark((function e(){var t,n,a,r,o,c,s,u,m,p,v,g,w,E,j;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(f);case 3:if(200===(t=e.sent).status){e.next=7;break}throw new Error("Unexpected status code: ".concat(t.status));case 7:return e.next=9,t.json();case 9:for(n=e.sent,a=n.results,r=b(a),o=[],c=!0,s=!1,u=void 0,e.prev=16,m=r.entries()[Symbol.iterator]();!(c=(p=m.next()).done);c=!0)v=Object(d.a)(p.value,2),g=v[0],w=v[1],E=h(w),j=new Date(g),o.push(Object(l.a)({},E,{date:j}));e.next=24;break;case 20:e.prev=20,e.t0=e.catch(16),s=!0,u=e.t0;case 24:e.prev=24,e.prev=25,c||null==m.return||m.return();case 27:if(e.prev=27,!s){e.next=30;break}throw u;case 30:return e.finish(27);case 31:return e.finish(24);case 32:return o.sort((function(e,t){return e.date.getTime()-t.date.getTime()})),e.abrupt("return",o);case 36:throw e.prev=36,e.t1=e.catch(0),console.error("error happened: ".concat(e.t1)),e.t1;case 40:case"end":return e.stop()}}),e,null,[[0,36],[16,20,24,32],[25,,27,31]])})))).apply(this,arguments)}var w=n(200),E=n(204),j=n(207),k=n(202),x=n(203),O=n(205),S=n(206),y=n(209),N=n(210),B=Object(w.a)({table:{minWidth:650},text:{color:"white"},link:{color:"white"}});var D=n(208),C={label:"News sentiment",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10},R=function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(null),s=Object(d.a)(c,2),p=s[0],f=s[1],b=Object(a.useState)({labels:[],datasets:[]}),h=Object(d.a)(b,2),g=h[0],w=h[1];Object(a.useEffect)((function(){Object(u.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:t=e.sent,n=t.map((function(e){return e.date.toLocaleDateString()})),a=t.map((function(e){return e.sentiment.score})),o(t),w({labels:n,datasets:[Object(l.a)({},C,{data:a})]});case 7:case"end":return e.stop()}}),e)})))()}),[]);var R=n&&null!==p?n[p]:null;return r.a.createElement("div",{className:"App App-header"},r.a.createElement("header",null,"Financial News"),n?r.a.createElement("div",{className:"graph"},r.a.createElement(m.a,{data:g,getElementAtEvent:function(e){return function(e){if(0!==e.length){var t=e[0]._index;f(t)}}(e)}})):r.a.createElement(D.a,{className:"loader"}),r.a.createElement("div",{className:"table"},function(e){var t=B();if(!e)return null;var n=function(e){return r.a.createElement(k.a,{className:t.text,align:"left"},e)};return r.a.createElement(x.a,null,r.a.createElement(E.a,{className:t.table,"aria-label":"simple table"},r.a.createElement(O.a,null,r.a.createElement(S.a,null,["Title","Date","Summary","Sentiment"].map((function(e){return n(e)})))),r.a.createElement(j.a,null,e.data.map((function(e){var a,o=new Date(e.date);return r.a.createElement(S.a,{key:e.link},r.a.createElement(k.a,{component:"th",scope:"row",className:t.text},r.a.createElement(N.a,{href:e.link},e.title)),n(o.toLocaleString()),n(e.contentSnippet),r.a.createElement(y.a,{title:e.sentimentResult.score.toFixed(3),placement:"left"},n((a=e.sentimentResult.score)>0?"\ud83d\udc4d":a<0?"\ud83d\udc4e":"\ud83e\udd14")))})))))}(R)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},70:function(e,t,n){e.exports=n(174)},75:function(e,t,n){}},[[70,1,2]]]);
//# sourceMappingURL=main.9b1fe070.chunk.js.map