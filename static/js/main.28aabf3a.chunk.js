(this.webpackJsonpfinancial_news_frontend=this.webpackJsonpfinancial_news_frontend||[]).push([[0],{171:function(e,t,n){},174:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(57),c=n.n(o),s=(n(74),n(14)),i=n.n(s),l=n(27),u=n(58),d=n(15),p=n(59),m=n(60),f=n(11),h=n(66),g=n(61),b=(n(171),n(63)),v=n(65),w=n(31),E="https://us-central1-df-side-projects.cloudfunctions.net/news-rss-http";function k(e){return e.reduce((function(e,t){var n=new Date(t.date).toDateString(),a=e.get(n)||[];return e.set(n,[].concat(Object(w.a)(a),[t])),e}),new Map)}function D(e){var t=e.reduce((function(e,t){return e.score+=t.sentimentResult.score,e.magnitude+=t.sentimentResult.magnitude,e}),{score:0,magnitude:0});return{data:e,sentiment:{score:t.score/e.length,magnitude:t.magnitude/e.length}}}function y(){return x.apply(this,arguments)}function x(){return(x=Object(l.a)(i.a.mark((function e(){var t,n,a,r,o,c,s,l,u,d,p,m,f,h,g;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(E);case 3:if(200===(t=e.sent).status){e.next=7;break}throw new Error("Unexpected status code: ".concat(t.status));case 7:return e.next=9,t.json();case 9:for(n=e.sent,a=n.results,r=k(a),o=[],c=!0,s=!1,l=void 0,e.prev=16,u=r.entries()[Symbol.iterator]();!(c=(d=u.next()).done);c=!0)p=Object(v.a)(d.value,2),m=p[0],f=p[1],h=D(f),g=new Date(m),o.push(Object(b.a)({},h,{date:g}));e.next=24;break;case 20:e.prev=20,e.t0=e.catch(16),s=!0,l=e.t0;case 24:e.prev=24,e.prev=25,c||null==u.return||u.return();case 27:if(e.prev=27,!s){e.next=30;break}throw l;case 30:return e.finish(27);case 31:return e.finish(24);case 32:return o.sort((function(e,t){return e.date.getTime()-t.date.getTime()})),e.abrupt("return",o);case 36:throw e.prev=36,e.t1=e.catch(0),console.error("error happened: ".concat(e.t1)),e.t1;case 40:case"end":return e.stop()}}),e,null,[[0,36],[16,20,24,32],[25,,27,31]])})))).apply(this,arguments)}var j=n(191),O=n(195),S=n(198),B=n(199),C=n(193),R=n(196),H=n(197),W=n(194);Object(j.a)({table:{minWidth:650}});var _={labels:[],datasets:[{label:"News sentiment",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:[]}]},I=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={graphData:_,results:[],selectedIndex:null},n.selectDay=n.selectDay.bind(Object(f.a)(n)),n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:t=e.sent,console.log(t),n=t.map((function(e){return e.date.toLocaleDateString()})),a=t.map((function(e){return e.sentiment.score})),this.setState((function(e){return e.graphData.labels=n,e.graphData.datasets[0].data=a,{graphData:e.graphData,results:t}}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"selectDay",value:function(e){if(0!==e.length){var t=e[0]._index;this.setState({selectedIndex:t})}}},{key:"render",value:function(){var e,t=this,n=this.state,a=n.results,o=n.selectedIndex,c=o?a[o]:null;return r.a.createElement("div",{className:"App App-header"},r.a.createElement("header",null,"Financial News"),r.a.createElement(g.a,{data:_,getElementAtEvent:function(e){return t.selectDay(e)}}),c&&(e=c,r.a.createElement(C.a,{component:W.a},r.a.createElement(O.a,{"aria-label":"simple table"},r.a.createElement(R.a,null,r.a.createElement(H.a,null,r.a.createElement(B.a,{align:"left"},"Title"),r.a.createElement(B.a,{align:"left"},"Date"),r.a.createElement(B.a,{align:"left"},"Summary"),r.a.createElement(B.a,{align:"left"},"Sentiment"))),r.a.createElement(S.a,null,e.data.map((function(e){var t,n=new Date(e.date);return r.a.createElement(H.a,{key:e.link},r.a.createElement(B.a,{component:"th",scope:"row"},r.a.createElement("a",{href:e.link},e.title)),r.a.createElement(B.a,{align:"left"},n.toLocaleString()),r.a.createElement(B.a,{align:"left"},e.contentSnippet),r.a.createElement(B.a,{align:"left"},(t=e.sentimentResult.score)>0?"\ud83d\udc4d":t<0?"\ud83d\udc4e":"\ud83e\udd14"," ",e.sentimentResult.score))})))))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},69:function(e,t,n){e.exports=n(174)},74:function(e,t,n){}},[[69,1,2]]]);
//# sourceMappingURL=main.28aabf3a.chunk.js.map